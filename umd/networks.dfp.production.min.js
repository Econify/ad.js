this._ADJS=this._ADJS||{},this._ADJS.Networks=this._ADJS.Networks||{},this._ADJS.Networks.DFP=function(){"use strict";class e extends Error{constructor(e,t){super(t),this.code=e,this.message=t}}const t=(e,t={})=>new Promise(o=>{const s=document.createElement("script");s.src=e,s.onload=(()=>o()),Object.keys(t).forEach(e=>{const o=t[e];if("boolean"!=typeof o)s.setAttribute(e,o);else{if(!o)return;s.setAttribute(e,e)}}),document.getElementsByTagName("head")[0].appendChild(s)});class o{constructor(t,o,r,a,g){this.el=t,s.prepare();const{id:i}=t;if(!i)throw new e("Malformed Request","Ad does not have an id");this.id=i,googletag.cmd.push(()=>{const e=Array.isArray(r)?r:[];if(this.slot=googletag.defineSlot(o,e,this.id),g&&Object.entries(g).forEach(([e,t])=>{this.slot.setTargeting(e,t)}),!Array.isArray(r)&&a){const e=googletag.sizeMapping();Object.entries(a).map(([t,o])=>{e.addSize([o.from,1],r[t]||[])}),this.slot.defineSizeMapping(e.build())}this.slot.addService(googletag.pubads()),googletag.display(this.id)})}render(){return new Promise(e=>{googletag.cmd.push(()=>{const{slot:t}=this;googletag.pubads().addEventListener("slotRenderEnded",o=>{o.slot===t&&e()}),googletag.pubads().refresh([t],{changeCorrelator:!1}),t.getContentUrl()||e()})})}clear(){return new Promise(e=>{googletag.cmd.push(()=>{const{slot:t}=this;googletag.pubads().clear([t]),e()})})}refresh(){return new Promise(e=>{googletag.cmd.push(()=>{const{slot:t}=this;googletag.pubads().refresh([t],{changeCorrelator:!1}),e()})})}destroy(){return new Promise(e=>{googletag.cmd.push(()=>{const{slot:t}=this;googletag.destroySlots([t]),e()})})}}const s={name:"DoubleClick for Publishers",loaded:!1,createAd(t){const{el:s,configuration:r}=t,{sizes:a,targeting:g,path:i,breakpoints:n}=r;if(!a)throw new e("Malformed Request","Sizes must be defined.");if(!i)throw new e("Malformed Request","Ad Path must be defined.");return new o(s,i,a,n,g)},async prepare(){this.loaded||(t("https://www.googletagservices.com/tag/js/gpt.js",{async:!0}),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(()=>{googletag.pubads().disableInitialLoad(),googletag.pubads().enableAsyncRendering(),googletag.enableServices()}),this.loaded=!0)},async resetCorrelator(){googletag.pubads().updateCorrelator()}};return s}();
//# sourceMappingURL=networks.dfp.production.min.js.map
